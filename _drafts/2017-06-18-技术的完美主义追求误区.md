---
permalink: /posts/tech-perfect-mistake
layout: post
title:  技术的完美主义追求误区
categories: 技术
tags:
---

* content
{:toc}

最近做的小项目多了后,发现逐渐陷入一个误区,那就是对技术的完美主义追求,这里赶紧反思一下,以免越陷越深.




## 完美主义
`GNU`是一个由大家共同建立一套自由的操作系统的计划,这个计划中的内核过于完美,以至于迟迟无法发布,
直至被后面出现的`linux`项目超越.

而linux项目的特点被有些人总结为:

1. `快`: 指项目得出得快,不然就算项目再好,出来了也白搭
2. `糙`: 指项目不用一开始就想得太完美,先把能用的搞出来,后续再慢慢迭代最好
3. `猛`: 指项目的确得做得有水平,不然只有快糙,代码思想理念不行,质量不行,那就是个垃圾

完美主义还有一个表现,就是代码过于优化,`效率`与`逻辑`有的时候可能是成反比的,
一个地方优化了效率,逻辑上可能看着就不是那么清晰了.

一方面现在的计算机速度非常快,所以你看起来优化一下或许能提高效率,但实际提高的可以忽略不计.
另一方面某个地方的代码可能不是`热点区域`,因此你即使优化提高了一点效率,对整的也是影响不大.

对于大部分对整体影响不大的地方,逻辑清晰才是主要的,这也是企业或大项目开发最重要的地方之一.

`热点区域`是什么?就是代码执行最多的地方,那里是`重灾区`,那里的代码优化一点点,可能整个系统就能提高很大性能.
因此代码的性能优化应该重点关注那些区域.

## 过分追求细节
这也是最近发现的一个事,代码逻辑其实是允许少量的重复冗余的,而且也推荐这么做,
而不是很小的一个东西复用了一下就十分惶恐地抽取到一个共用的第三方模块中,
这样会造成代码结构杂乱,细枝末节过多.

不仅仅只有代码重复这个细节,还有其它的地方,过于细致后会发现增加了很多不必要的关注点,不仅损耗精力而且结构更加不清晰.
解决这个问题,得跳出项目这个樊笼,从外面看它,看看有没暴露出杂乱多余的接口,有的话最好改为内部处理,内部无法处理的看看能不能去掉.

对一个项目越做越深后,就要小心陷入细节的陷阱,但并不是说项目不能深入研究,不能做优化了.
主要的区别在于内部与外部,如果只在项目内部做优化,并不会暴露出来,那是十分好的,
如果暴露出来了,外部就会增加关注点,那就要做取舍与简化,可以简化就简化,没必要的就去掉.

比如之前有个功能,针对每个功能,研究它的执行效率,进而配置每个命令的使用间隔,后来发现这样做实在太麻烦,
因此改为通用的命令速度限制,针对'热点'命令进行优化,即那些执行效率很高或执行得很慢的,对它们进行限制就够了.

## 总结
总之模块中要十分注意'其它人',这个其它人并不单单指与其它人协作开发,多个模块之间相互都是'其它人',
而且就算同样的模块,很久之后的你也会成为'其它人'.

因此模块对外暴露的应该尽量简洁,模块内的代码结构应该尽量清晰.

另外项目主体应该以`逻辑`清晰为主,热点区域以`效率`为主.
